#!/bin/bash
# AHLL runner script
# Usage: bananacat file.ahll

if [ $# -eq 0 ]; then
    echo "ğŸŒğŸˆ Banana Cat - AHLL Runner"
    echo "Usage: bananacat file.ahll"
    echo "       bananacat --help"
    exit 1
fi

if [ "$1" = "--help" ] || [ "$1" = "-h" ]; then
    echo "Andy's Happy Little Language Runner"
    echo ""
    echo "Usage:"
    echo "  bananacat file.ahll     Run an AHLL program"
    echo "  bananacat --version     Show version"
    echo "  bananacat --help        Show this help"
    exit 0
fi

if [ "$1" = "--version" ] || [ "$1" = "-v" ]; then
    exec ahll --version
    exit 0
fi

FILE="$1"

if [ ! -f "$FILE" ]; then
    echo "âŒ Error: File '$FILE' not found" >&2
    exit 1
fi

if [[ "$FILE" != *.ahll ]]; then
    echo "âš ï¸  Warning: File doesn't have .ahll extension" >&2
    read -p "Continue anyway? [y/N] " -n 1 -r
    echo
    if [[ ! $REPLY =~ ^[Yy]$ ]]; then
        exit 1
    fi
fi

echo "ğŸŒğŸˆ Running: $FILE"
echo ""

# Run the interpreter
exec ahll "$FILE"